<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>القوائم والمجموعات - تويتري</title>
    
    <!-- Bootstrap 5.3 CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            /* نظام الألوان للوضع الفاتح */
            --primary-light: #7c4dff;
            --secondary-light: #ff6e6c;
            --accent-light: #2ce0c8;
            --background-light: #f8f9fa;
            --text-light: #2d3748;
            --card-light: #ffffff;
            --input-light: #f1f3f4;
            
            /* نظام الألوان للوضع المظلم */
            --primary-dark: #9370ff;
            --secondary-dark: #ff8c8a;
            --accent-dark: #3af0da;
            --background-dark: #1a202c;
            --text-dark: #e2e8f0;
            --card-dark: #2d3748;
            --input-dark: #4a5568;
            
            --border-radius: 16px;
            --transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --box-shadow: 0 12px 36px rgba(0, 0, 0, 0.15);
            
            /* القيم الافتراضية - سيتم تغييرها عبر جافاسكريبت */
            --primary: var(--primary-light);
            --secondary: var(--secondary-light);
            --accent: var(--accent-light);
            --background: var(--background-light);
            --text: var(--text-light);
            --card: var(--card-light);
            --input: var(--input-light);
        }

        /* التخصيص العام */
        body {
            background-color: var(--background);
            color: var(--text);
            font-family: 'Segoe UI', 'Cairo', Tahoma, Geneva, Verdana, sans-serif;
            transition: var(--transition);
            padding-top: 56px; /* للهيدر الثابت */
            line-height: 1.6;
        }

        .dark-mode {
            --primary: var(--primary-dark);
            --secondary: var(--secondary-dark);
            --accent: var(--accent-dark);
            --background: var(--background-dark);
            --text: var(--text-dark);
            --card: var(--card-dark);
            --input: var(--input-dark);
        }

        /* تخصيص Bootstrap */
        .bg-primary {
            background-color: var(--primary) !important;
        }

        .bg-secondary {
            background-color: var(--secondary) !important;
        }

        .bg-accent {
            background-color: var(--accent) !important;
        }

        .text-primary {
            color: var(--primary) !important;
        }

        .text-secondary {
            color: var(--secondary) !important;
        }

        .text-accent {
            color: var(--accent) !important;
        }

        .btn-primary {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
        }

        .btn-primary:hover, .btn-primary:focus {
            background-color: var(--secondary);
            border-color: var(--secondary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-secondary {
            background-color: var(--secondary);
            border-color: var(--secondary);
            color: white;
        }

        .btn-secondary:hover, .btn-secondary:focus {
            background-color: var(--primary);
            border-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-outline-primary {
            color: var(--primary);
            border-color: var(--primary);
        }

        .btn-outline-primary:hover, .btn-outline-primary:focus {
            background-color: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .btn-outline-secondary {
            color: var(--secondary);
            border-color: var(--secondary);
        }

        .btn-outline-secondary:hover, .btn-outline-secondary:focus {
            background-color: var(--secondary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }

        .card {
            background-color: var(--card);
            border-radius: var(--border-radius);
            border: none;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
            overflow: hidden;
        }

        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 16px 42px rgba(0, 0, 0, 0.2);
        }

        .form-control {
            background-color: var(--input);
            border: none;
            border-radius: var(--border-radius);
            color: var(--text);
            transition: var(--transition);
        }

        .form-control:focus {
            box-shadow: 0 0 0 3px rgba(124, 77, 255, 0.2);
        }

        .navbar {
            background-color: var(--card) !important;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }

        /* تخصيصات خاصة بالتصميم */
        .cover-container {
            height: 200px;
            overflow: hidden;
            position: relative;
            border-radius: var(--border-radius);
        }

        .cover-photo {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .cover-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(to bottom, rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.6));
            opacity: 0;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .cover-container:hover .cover-overlay {
            opacity: 1;
        }

        .cover-container:hover .cover-photo {
            transform: scale(1.05);
        }

        .list-icon {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            object-fit: cover;
            border: 4px solid var(--card);
            position: absolute;
            bottom: -40px;
            right: 20px;
            z-index: 2;
            transition: var(--transition);
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2rem;
        }

        .list-icon-container {
            position: relative;
        }

        .list-icon-container:hover .list-icon {
            transform: scale(1.1) rotate(5deg);
        }

        .list-icon-overlay {
            position: absolute;
            bottom: -40px;
            right: 20px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.4);
            opacity: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 3;
            transition: var(--transition);
            cursor: pointer;
        }

        .list-icon-container:hover .list-icon-overlay {
            opacity: 1;
        }

        .nav-tabs {
            border-bottom: 2px solid var(--input);
        }

        .nav-tabs .nav-link {
            color: var(--text);
            border: none;
            padding: 1rem 1.5rem;
            position: relative;
            transition: var(--transition);
            font-weight: 600;
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
        }

        .nav-tabs .nav-link:hover {
            color: var(--primary);
            background-color: rgba(124, 77, 255, 0.1);
        }

        .nav-tabs .nav-link.active {
            color: var(--primary);
            background-color: transparent;
            border: none;
        }

        .nav-tabs .nav-link.active::after {
            content: '';
            position: absolute;
            bottom: -2px;
            right: 0;
            width: 100%;
            height: 4px;
            background-color: var(--primary);
            border-radius: 4px 4px 0 0;
        }

        .stats-number {
            font-weight: 700;
            color: var(--text);
            transition: var(--transition);
            cursor: pointer;
        }

        .stats-number:hover {
            color: var(--primary);
            text-decoration: underline;
        }

        .stats-label {
            color: var(--text);
            opacity: 0.7;
            font-size: 0.9rem;
        }

        /* RTL تخصيصات */
        .dropdown-menu {
            text-align: right;
            left: auto !important;
            right: 0;
            background-color: var(--card);
            border: none;
            box-shadow: var(--box-shadow);
            border-radius: var(--border-radius);
            overflow: hidden;
        }

        .dropdown-item {
            color: var(--text);
            transition: var(--transition);
            padding: 0.6rem 1.2rem;
        }

        .dropdown-item:hover {
            background-color: var(--primary);
            color: white;
        }

        /* تحسينات للهواتف */
        @media (max-width: 768px) {
            .profile-actions {
                flex-direction: column;
                gap: 10px;
            }
            
            .profile-actions .btn {
                width: 100%;
            }
            
            .nav-tabs .nav-link {
                padding: 0.8rem 0.5rem;
                font-size: 0.9rem;
            }
        }

        /* تحسينات إضافية */
        .badge-verified {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 0.3em 0.6em;
            border-radius: 12px;
            font-size: 0.7em;
            vertical-align: middle;
        }

        .trend-item {
            padding: 0.8rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            cursor: pointer;
        }

        .trend-item:hover {
            background-color: var(--input);
        }

        .follow-btn {
            transition: var(--transition);
            min-width: 90px;
        }

        .modal-content {
            background-color: var(--card);
            border-radius: var(--border-radius);
            border: none;
            box-shadow: var(--box-shadow);
        }

        .btn-close {
            filter: invert(1);
        }

        /* تحسينات للنصوص العربية */
        body {
            font-family: 'Segoe UI', 'Cairo', Tahoma, Geneva, Verdana, sans-serif;
        }

        h1, h2, h3, h4, h5, h6 {
            font-weight: 700;
        }

        /* تحسينات للوصولية */
        .btn:focus, .form-control:focus {
            outline: none;
            box-shadow: 0 0 0 3px rgba(124, 77, 255, 0.3) !important;
        }

        /* تخصيص شريط التمرير */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--input);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: var(--primary);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--secondary);
        }

        /* تحسينات للوضع المظلم */
        .dark-mode .btn-close {
            filter: invert(0.7);
        }

        /* تخصيصات خاصة بصفحة القوائم */
        .list-card {
            transition: var(--transition);
            cursor: pointer;
            height: 100%;
        }

        .list-card:hover {
            transform: translateY(-5px) scale(1.02);
        }

        .list-cover {
            height: 120px;
            overflow: hidden;
            border-top-left-radius: var(--border-radius);
            border-top-right-radius: var(--border-radius);
        }

        .list-cover img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: var(--transition);
        }

        .list-card:hover .list-cover img {
            transform: scale(1.1);
        }

        .list-icon-small {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            object-fit: cover;
            margin-top: -30px;
            margin-right: 15px;
            border: 3px solid var(--card);
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 1.5rem;
        }

        .list-privacy-badge {
            position: absolute;
            top: 10px;
            left: 10px;
            z-index: 2;
        }

        .list-members-preview {
            display: flex;
            margin-top: 10px;
        }

        .member-avatar {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            object-fit: cover;
            border: 2px solid var(--card);
            margin-right: -10px;
        }

        .member-more {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: var(--input);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            border: 2px solid var(--card);
            margin-right: -10px;
        }

        .filter-bar {
            background-color: var(--card);
            border-radius: var(--border-radius);
            padding: 1rem;
            margin-bottom: 1.5rem;
            box-shadow: var(--box-shadow);
        }

        .sort-dropdown .dropdown-menu {
            width: 250px;
            padding: 0.5rem;
        }

        .sort-option {
            padding: 0.7rem 1rem;
            border-radius: var(--border-radius);
            cursor: pointer;
            transition: var(--transition);
            margin-bottom: 0.2rem;
        }

        .sort-option:hover {
            background-color: var(--input);
        }

        .sort-option.active {
            background-color: var(--primary);
            color: white;
        }

        .create-list-btn {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 100;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2);
            transition: var(--transition);
        }

        .create-list-btn:hover {
            transform: scale(1.1) rotate(90deg);
        }

        .list-management-panel {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--background);
            z-index: 1000;
            overflow-y: auto;
            transform: translateX(100%);
            transition: transform 0.4s ease;
        }

        .list-management-panel.active {
            transform: translateX(0);
        }

        .close-panel {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 10;
        }

        .member-item {
            padding: 1rem;
            border-radius: var(--border-radius);
            transition: var(--transition);
            cursor: pointer;
        }

        .member-item:hover {
            background-color: var(--input);
        }

        .role-badge {
            font-size: 0.7rem;
            padding: 0.3em 0.6em;
            border-radius: 10px;
        }

        .online-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #17bf63;
            position: absolute;
            bottom: 0;
            left: 0;
            border: 2px solid var(--card);
        }

        .offline-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #8899a6;
            position: absolute;
            bottom: 0;
            left: 0;
            border: 2px solid var(--card);
        }

        .busy-status {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background-color: #f91880;
            position: absolute;
            bottom: 0;
            left: 0;
            border: 2px solid var(--card);
        }

        .drag-handle {
            cursor: move;
            opacity: 0.5;
            transition: var(--transition);
        }

        .drag-handle:hover {
            opacity: 1;
        }

        .dragging {
            opacity: 0.7;
            transform: rotate(5deg);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .dropzone {
            border: 2px dashed var(--primary);
            border-radius: var(--border-radius);
            background-color: rgba(124, 77, 255, 0.05);
            padding: 2rem;
            text-align: center;
            transition: var(--transition);
        }

        .dropzone.active {
            background-color: rgba(124, 77, 255, 0.1);
            border-color: var(--secondary);
        }

        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
            height: 1rem;
            margin-bottom: 0.5rem;
        }

        .dark-mode .skeleton {
            background: linear-gradient(90deg, #2d3748 25%, #4a5568 50%, #2d3748 75%);
            background-size: 200% 100%;
        }

        @keyframes loading {
            0% {
                background-position: 200% 0;
            }
            100% {
                background-position: -200% 0;
            }
        }

        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }

        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .heart-animation {
            animation: heartBeat 0.6s ease;
        }

        @keyframes heartBeat {
            0% { transform: scale(1); }
            25% { transform: scale(1.3); }
            50% { transform: scale(1); }
            75% { transform: scale(1.3); }
            100% { transform: scale(1); }
        }

        .rotate-animation {
            animation: rotate 0.7s ease;
        }

        @keyframes rotate {
            0% { transform: rotate(0); }
            100% { transform: rotate(360deg); }
        }

        .slide-in-right {
            animation: slideInRight 0.4s ease;
        }

        @keyframes slideInRight {
            from {
                opacity: 0;
                transform: translateX(50px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }

        .notification-badge {
            position: absolute;
            top: -5px;
            left: -5px;
            background-color: var(--secondary);
            color: white;
            border-radius: 50%;
            width: 20px;
            height: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.7rem;
            font-weight: bold;
        }

        .progress-bar {
            background: linear-gradient(90deg, var(--primary), var(--accent));
        }

        .color-option {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: inline-block;
            margin: 0 5px 5px 0;
            cursor: pointer;
            transition: var(--transition);
            border: 2px solid transparent;
        }

        .color-option:hover {
            transform: scale(1.1);
        }

        .color-option.selected {
            border-color: var(--text);
            transform: scale(1.1);
        }

        .icon-option {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            margin: 0 5px 5px 0;
            cursor: pointer;
            transition: var(--transition);
            background-color: var(--input);
        }

        .icon-option:hover {
            transform: scale(1.1);
            background-color: var(--primary);
            color: white;
        }

        .icon-option.selected {
            background-color: var(--primary);
            color: white;
            transform: scale(1.1);
        }

        .mini-chat-window {
            position: fixed;
            bottom: 100px;
            left: 30px;
            width: 300px;
            height: 400px;
            background-color: var(--card);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 99;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            transform: translateY(100px);
            opacity: 0;
            transition: all 0.3s ease;
        }

        .mini-chat-window.active {
            transform: translateY(0);
            opacity: 1;
        }

        .chat-header {
            padding: 1rem;
            background-color: var(--primary);
            color: white;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-messages {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
        }

        .message {
            margin-bottom: 1rem;
            padding: 0.7rem;
            border-radius: var(--border-radius);
            background-color: var(--input);
            max-width: 80%;
        }

        .message.self {
            background-color: var(--primary);
            color: white;
            margin-right: auto;
            margin-left: 0;
        }

        .message-input {
            display: flex;
            padding: 0.5rem;
            background-color: var(--input);
        }

        .voice-chat-btn {
            position: fixed;
            bottom: 100px;
            right: 30px;
            z-index: 99;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            box-shadow: var(--box-shadow);
            transition: var(--transition);
        }

        .voice-chat-btn.active {
            background-color: var(--secondary);
            color: white;
        }

        .voice-chat-panel {
            position: fixed;
            bottom: 160px;
            right: 30px;
            width: 250px;
            background-color: var(--card);
            border-radius: var(--border-radius);
            box-shadow: var(--box-shadow);
            z-index: 98;
            padding: 1rem;
            transform: scale(0);
            opacity: 0;
            transition: all 0.3s ease;
            transform-origin: bottom right;
        }

        .voice-chat-panel.active {
            transform: scale(1);
            opacity: 1;
        }

        .voice-member {
            display: flex;
            align-items: center;
            margin-bottom: 0.8rem;
        }

        .voice-member-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            object-fit: cover;
            margin-left: 10px;
        }

        .voice-indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background-color: var(--accent);
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.5; transform: scale(1); }
            50% { opacity: 1; transform: scale(1.1); }
            100% { opacity: 0.5; transform: scale(1); }
        }

        /* تحسينات للشاشات الصغيرة */
        @media (max-width: 992px) {
            .list-icon {
                width: 70px;
                height: 70px;
                bottom: -35px;
                font-size: 1.8rem;
            }
            
            .list-icon-overlay {
                width: 70px;
                height: 70px;
                bottom: -35px;
            }
            
            .list-icon-small {
                width: 50px;
                height: 50px;
                margin-top: -25px;
                font-size: 1.3rem;
            }
        }

        @media (max-width: 768px) {
            .list-cover {
                height: 100px;
            }
            
            .list-icon {
                width: 60px;
                height: 60px;
                bottom: -30px;
                font-size: 1.5rem;
            }
            
            .list-icon-overlay {
                width: 60px;
                height: 60px;
                bottom: -30px;
            }
            
            .list-icon-small {
                width: 40px;
                height: 40px;
                margin-top: -20px;
                font-size: 1rem;
            }
            
            .create-list-btn {
                bottom: 20px;
                left: 20px;
                width: 50px;
                height: 50px;
                font-size: 1.2rem;
            }
            
            .mini-chat-window {
                width: 250px;
                height: 350px;
                left: 20px;
                bottom: 80px;
            }
            
            .voice-chat-btn {
                bottom: 80px;
                right: 20px;
                width: 45px;
                height: 45px;
            }
            
            .voice-chat-panel {
                bottom: 135px;
                right: 20px;
                width: 220px;
            }
        }

        @media (max-width: 576px) {
            .list-management-panel .col-md-4 {
                margin-bottom: 1.5rem;
            }
            
            .filter-bar .d-flex {
                flex-direction: column;
            }
            
            .filter-bar .btn-group {
                margin-top: 1rem;
                width: 100%;
            }
            
            .filter-bar .sort-dropdown {
                margin-top: 1rem;
                width: 100%;
            }
            
            .sort-dropdown .dropdown-menu {
                width: 100%;
            }
        }
    </style>
</head>
<body class="light-mode">
    <!-- شريط التنقل العلوي -->
    <nav class="navbar navbar-expand-lg navbar-light fixed-top">
        <div class="container">
            <a class="navbar-brand fw-bold text-primary" href="#">
                <i class="bi bi-twitter"></i> تويتري
            </a>
            
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="تبديل التنقل">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item">
                        <button class="btn btn-outline-primary me-2" id="themeToggle" aria-label="تبديل الوضع المظلم">
                            <i class="bi bi-moon-fill"></i>
                        </button>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-house-door"></i> الرئيسية</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-bell"></i> الإشعارات</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#"><i class="bi bi-envelope"></i> الرسائل</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link active" href="#"><i class="bi bi-list-ul"></i> القوائم</a>
                    </li>
                    <li class="nav-item dropdown">
                        <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" width="30" height="30" class="rounded-circle" alt="صورة الملف الشخصي">
                        </a>
                        <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                            <li><a class="dropdown-item" href="#"><i class="bi bi-person"></i> ملفي الشخصي</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-list-ul"></i> القوائم</a></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-hash"></i> المواضيع</a></li>
                            <li><hr class="dropdown-divider"></li>
                            <li><a class="dropdown-item" href="#"><i class="bi bi-box-arrow-left"></i> تسجيل الخروج</a></li>
                        </ul>
                    </li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- محتوى الصفحة الرئيسي -->
    <div class="container mt-4">
        <div class="row">
            <div class="col-12">
                <div class="d-flex justify-content-between align-items-center mb-4">
                    <h1 class="h3 fw-bold">القوائم والمجموعات</h1>
                    <div class="d-flex">
                        <button class="btn btn-outline-primary me-2" id="viewModeToggle">
                            <i class="bi bi-grid"></i>
                        </button>
                        <div class="dropdown">
                            <button class="btn btn-outline-secondary dropdown-toggle" type="button" id="sortDropdown" data-bs-toggle="dropdown" aria-expanded="false">
                                <i class="bi bi-sort-down"></i> ترتيب حسب
                            </button>
                            <ul class="dropdown-menu" aria-labelledby="sortDropdown">
                                <li><a class="dropdown-item sort-option active" href="#" data-sort="newest">الأحدث</a></li>
                                <li><a class="dropdown-item sort-option" href="#" data-sort="active">الأكثر نشاطاً</a></li>
                                <li><a class="dropdown-item sort-option" href="#" data-sort="largest">الأكبر</a></li>
                                <li><a class="dropdown-item sort-option" href="#" data-sort="alphabetical">ابجدياً</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- شريط التصفية -->
        <div class="filter-bar">
            <div class="d-flex justify-content-between align-items-center flex-wrap">
                <div class="btn-group" role="group" aria-label="Filter lists">
                    <input type="radio" class="btn-check" name="listFilter" id="filterAll" autocomplete="off" checked>
                    <label class="btn btn-outline-primary" for="filterAll">الكل</label>

                    <input type="radio" class="btn-check" name="listFilter" id="filterOwned" autocomplete="off">
                    <label class="btn btn-outline-primary" for="filterOwned">قوائمي</label>

                    <input type="radio" class="btn-check" name="listFilter" id="filterFollowing" autocomplete="off">
                    <label class="btn btn-outline-primary" for="filterFollowing">أتابعها</label>

                    <input type="radio" class="btn-check" name="listFilter" id="filterPublic" autocomplete="off">
                    <label class="btn btn-outline-primary" for="filterPublic">عامة</label>

                    <input type="radio" class="btn-check" name="listFilter" id="filterPrivate" autocomplete="off">
                    <label class="btn btn-outline-primary" for="filterPrivate">خاصة</label>
                </div>

                <div class="d-flex">
                    <div class="input-group me-2" style="width: 250px;">
                        <input type="text" class="form-control" placeholder="ابحث في القوائم..." aria-label="ابحث في القوائم">
                        <button class="btn btn-primary" type="button"><i class="bi bi-search"></i></button>
                    </div>
                </div>
            </div>
        </div>

        <!-- شبكة القوائم -->
        <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4" id="listsGrid">
            <!-- سيتم إضافة القوائم بواسطة JavaScript -->
        </div>

        <!-- حالة عدم وجود قوائم -->
        <div class="text-center py-5 d-none" id="emptyState">
            <i class="bi bi-list-ul display-4 text-muted"></i>
            <h3 class="mt-3 text-muted">لا توجد قوائم لعرضها</h3>
            <p class="text-muted">ابدأ بإنشاء قائمة جديدة أو اكتشف القوائم العامة</p>
            <button class="btn btn-primary mt-3" id="createFirstList"><i class="bi bi-plus-circle"></i> إنشاء قائمة جديدة</button>
        </div>

        <!-- تحميل المزيد -->
        <div class="d-grid mb-4 mt-4">
            <button class="btn btn-outline-primary" id="loadMoreLists">
                <span class="load-text">تحميل المزيد</span>
                <span class="spinner-border spinner-border-sm d-none" role="status" aria-hidden="true"></span>
            </button>
        </div>
    </div>

    <!-- لوحة إنشاء قائمة جديدة -->
    <div class="list-management-panel" id="createListPanel">
        <div class="container py-4">
            <button class="btn btn-close close-panel" aria-label="إغلاق"></button>
            
            <div class="row">
                <div class="col-12">
                    <h2 class="fw-bold mb-4">إنشاء قائمة جديدة</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8">
                    <div class="card p-4 mb-4">
                        <div class="cover-container mb-4">
                            <img src="https://images.unsplash.com/photo-1517842645767-c639042777db?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" alt="صورة الغلاف" class="cover-photo" id="listCoverPreview">
                            <div class="cover-overlay">
                                <button class="btn btn-light" id="changeCoverBtn"><i class="bi bi-camera"></i> تغيير صورة الغلاف</button>
                            </div>
                        </div>

                        <div class="list-icon-container mb-4">
                            <div class="list-icon" id="listIconPreview">
                                <i class="bi bi-people"></i>
                            </div>
                            <div class="list-icon-overlay">
                                <button class="btn btn-light" id="changeIconBtn"><i class="bi bi-camera"></i></button>
                            </div>
                        </div>

                        <form id="createListForm">
                            <div class="mb-3">
                                <label for="listName" class="form-label">اسم القائمة</label>
                                <input type="text" class="form-control" id="listName" placeholder="أدخل اسمًا للقائمة" required>
                                <div class="form-text">0/25 حرف</div>
                            </div>

                            <div class="mb-3">
                                <label for="listDescription" class="form-label">وصف القائمة</label>
                                <textarea class="form-control" id="listDescription" rows="3" placeholder="أضف وصفًا للقائمة"></textarea>
                                <div class="form-text">0/160 حرف</div>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">خصوصية القائمة</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="listPrivacy" id="publicList" value="public" checked>
                                    <label class="form-check-label" for="publicList">
                                        <i class="bi bi-globe"></i> عامة - يمكن لأي شخص找到 هذه القائمة
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="listPrivacy" id="privateList" value="private">
                                    <label class="form-check-label" for="privateList">
                                        <i class="bi bi-lock"></i> خاصة - يمكن فقط للأعضاء找到 هذه القائمة
                                    </label>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">لون القائمة</label>
                                <div>
                                    <span class="color-option selected" style="background-color: #7c4dff;" data-color="#7c4dff"></span>
                                    <span class="color-option" style="background-color: #ff6e6c;" data-color="#ff6e6c"></span>
                                    <span class="color-option" style="background-color: #2ce0c8;" data-color="#2ce0c8"></span>
                                    <span class="color-option" style="background-color: #9370ff;" data-color="#9370ff"></span>
                                    <span class="color-option" style="background-color: #ff8c8a;" data-color="#ff8c8a"></span>
                                    <span class="color-option" style="background-color: #3af0da;" data-color="#3af0da"></span>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">أيقونة القائمة</label>
                                <div>
                                    <span class="icon-option selected" data-icon="bi-people"><i class="bi bi-people"></i></span>
                                    <span class="icon-option" data-icon="bi-star"><i class="bi bi-star"></i></span>
                                    <span class="icon-option" data-icon="bi-heart"><i class="bi bi-heart"></i></span>
                                    <span class="icon-option" data-icon="bi-chat"><i class="bi bi-chat"></i></span>
                                    <span class="icon-option" data-icon="bi-bookmark"><i class="bi bi-bookmark"></i></span>
                                    <span class="icon-option" data-icon="bi-hash"><i class="bi bi-hash"></i></span>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label class="form-label">إضافة أعضاء</label>
                                <div class="input-group mb-3">
                                    <input type="text" class="form-control" placeholder="ابحث عن مستخدمين للإضافة">
                                    <button class="btn btn-primary" type="button"><i class="bi bi-search"></i></button>
                                </div>
                                <div class="selected-members">
                                    <!-- سيتم إضافة الأعضاء المختارين هنا -->
                                </div>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary btn-lg">إنشاء القائمة</button>
                            </div>
                        </form>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card p-4 mb-4">
                        <h5 class="fw-bold">معاينة القائمة</h5>
                        <div class="list-preview mt-3">
                            <div class="cover-container-preview mb-4" style="height: 100px;">
                                <img src="https://images.unsplash.com/photo-1517842645767-c639042777db?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" alt="معاينة الغلاف" class="cover-photo" style="height: 100px;">
                            </div>
                            <div class="d-flex align-items-center">
                                <div class="list-icon-small-preview me-3" style="background-color: #7c4dff;">
                                    <i class="bi bi-people text-white"></i>
                                </div>
                                <div>
                                    <h6 class="fw-bold mb-0" id="previewListName">اسم القائمة</h6>
                                    <small class="text-muted" id="previewListPrivacy">قائمة عامة</small>
                                </div>
                            </div>
                            <p class="mt-3 small" id="previewListDescription">وصف القائمة سيظهر هنا</p>
                            <div class="d-flex justify-content-between mt-3">
                                <div>
                                    <span class="fw-bold">0</span> <span class="text-muted">أعضاء</span>
                                </div>
                                <div>
                                    <span class="fw-bold">0</span> <span class="text-muted">متابعون</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="card p-4">
                        <h5 class="fw-bold">نصائح للقوائم</h5>
                        <ul class="mt-3 ps-3">
                            <li class="mb-2">اختر اسمًا واضحًا ووصفًا دقيقًا للقائمة</li>
                            <li class="mb-2">أضف صورة غلاف وأيقونة لجعل القائمة جذابة</li>
                            <li class="mb-2">ابدأ بإضافة الأعضاء الأكثر نشاطًا أولاً</li>
                            <li class="mb-2">شارك القائمة مع الآخرين لزيادة المتابعين</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- لوحة إدارة القائمة -->
    <div class="list-management-panel" id="manageListPanel">
        <div class="container py-4">
            <button class="btn btn-close close-panel" aria-label="إغلاق"></button>
            
            <div class="row">
                <div class="col-12">
                    <h2 class="fw-bold mb-4">إدارة القائمة</h2>
                </div>
            </div>

            <div class="row">
                <div class="col-lg-8">
                    <div class="card p-4 mb-4">
                        <div class="cover-container mb-4">
                            <img src="https://images.unsplash.com/photo-1517842645767-c639042777db?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80" alt="صورة الغلاف" class="cover-photo">
                            <div class="cover-overlay">
                                <button class="btn btn-light"><i class="bi bi-camera"></i> تغيير صورة الغلاف</button>
                            </div>
                        </div>

                        <div class="list-icon-container mb-4">
                            <div class="list-icon" style="background-color: #7c4dff;">
                                <i class="bi bi-people text-white"></i>
                            </div>
                            <div class="list-icon-overlay">
                                <button class="btn btn-light"><i class="bi bi-camera"></i></button>
                            </div>
                        </div>

                        <form>
                            <div class="mb-3">
                                <label for="editListName" class="form-label">اسم القائمة</label>
                                <input type="text" class="form-control" id="editListName" value="مطوري الويب العرب">
                            </div>

                            <div class="mb-3">
                                <label for="editListDescription" class="form-label">وصف القائمة</label>
                                <textarea class="form-control" id="editListDescription" rows="3">مجموعة لمطوري الويب الناطقين بالعربية لمشاركة المعرفة والخبرات</textarea>
                            </div>

                            <div class="mb-3">
                                <label class="form-label">خصوصية القائمة</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="editListPrivacy" id="editPublicList" value="public" checked>
                                    <label class="form-check-label" for="editPublicList">
                                        <i class="bi bi-globe"></i> عامة
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="radio" name="editListPrivacy" id="editPrivateList" value="private">
                                    <label class="form-check-label" for="editPrivateList">
                                        <i class="bi bi-lock"></i> خاصة
                                    </label>
                                </div>
                            </div>

                            <div class="d-grid">
                                <button type="submit" class="btn btn-primary">حفظ التغييرات</button>
                            </div>
                        </form>
                    </div>

                    <div class="card p-4 mb-4">
                        <h5 class="fw-bold mb-4">أعضاء القائمة</h5>
                        
                        <div class="input-group mb-3">
                            <input type="text" class="form-control" placeholder="ابحث عن أعضاء">
                            <button class="btn btn-primary" type="button"><i class="bi bi-search"></i></button>
                        </div>
                        
                        <div class="members-list">
                            <div class="member-item d-flex align-items-center">
                                <div class="position-relative me-3">
                                    <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" width="48" height="48" class="rounded-circle" alt="عمر أحمد">
                                    <span class="online-status"></span>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="fw-bold mb-0">عمر أحمد</h6>
                                    <small class="text-muted">@omarahmed</small>
                                </div>
                                <div class="dropdown">
                                    <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bi bi-three-dots"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#">عرض الملف</a></li>
                                        <li><a class="dropdown-item" href="#">إزالة من القائمة</a></li>
                                        <li><a class="dropdown-item" href="#">جعل مشرف</a></li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="member-item d-flex align-items-center">
                                <div class="position-relative me-3">
                                    <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" width="48" height="48" class="rounded-circle" alt="سارة محمد">
                                    <span class="offline-status"></span>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="fw-bold mb-0">سارة محمد</h6>
                                    <small class="text-muted">@saramohamed</small>
                                </div>
                                <div class="dropdown">
                                    <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bi bi-three-dots"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#">عرض الملف</a></li>
                                        <li><a class="dropdown-item" href="#">إزالة من القائمة</a></li>
                                        <li><a class="dropdown-item" href="#">جعل مشرف</a></li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="member-item d-flex align-items-center">
                                <div class="position-relative me-3">
                                    <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" width="48" height="48" class="rounded-circle" alt="خالد إبراهيم">
                                    <span class="busy-status"></span>
                                </div>
                                <div class="flex-grow-1">
                                    <h6 class="fw-bold mb-0">خالد إبراهيم</h6>
                                    <small class="text-muted">@khaledibrahim</small>
                                </div>
                                <div class="dropdown">
                                    <button class="btn btn-link text-muted p-0" type="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        <i class="bi bi-three-dots"></i>
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item" href="#">عرض الملف</a></li>
                                        <li><a class="dropdown-item" href="#">إزالة من القائمة</a></li>
                                        <li><a class="dropdown-item" href="#">جعل مشرف</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-lg-4">
                    <div class="card p-4 mb-4">
                        <h5 class="fw-bold">إحصائيات القائمة</h5>
                        
                        <div class="mt-4">
                            <div class="d-flex justify-content-between mb-2">
                                <span class="text-muted">عدد الأعضاء</span>
                                <span class="fw-bold">24</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span class="text-muted">عدد المتابعين</span>
                                <span class="fw-bold">156</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span class="text-muted">التغريدات هذا الأسبوع</span>
                                <span class="fw-bold">342</span>
                            </div>
                            <div class="d-flex justify-content-between mb-2">
                                <span class="text-muted">معدل التفاعل</span>
                                <span class="fw-bold">18.5%</span>
                            </div>
                        </div>
                        
                        <div class="progress mt-4" style="height: 8px;">
                            <div class="progress-bar" role="progressbar" style="width: 65%;" aria-valuenow="65" aria-valuemin="0" aria-valuemax="100"></div>
                        </div>
                        <div class="d-flex justify-content-between mt-2">
                            <small class="text-muted">نشاط القائمة</small>
                            <small class="fw-bold">65%</small>
                        </div>
                    </div>
                    
                    <div class="card p-4 mb-4">
                        <h5 class="fw-bold">خيارات متقدمة</h5>
                        
                        <div class="mt-3">
                            <button class="btn btn-outline-primary w-100 mb-2">
                                <i class="bi bi-people"></i> دعوة أعضاء جدد
                            </button>
                            <button class="btn btn-outline-primary w-100 mb-2">
                                <i class="bi bi-share"></i> مشاركة القائمة
                            </button>
                            <button class="btn btn-outline-primary w-100 mb-2">
                                <i class="bi bi-download"></i> تصدير القائمة
                            </button>
                            <button class="btn btn-outline-danger w-100">
                                <i class="bi bi-trash"></i> حذف القائمة
                            </button>
                        </div>
                    </div>
                    
                    <div class="card p-4">
                        <h5 class="fw-bold">النشاط الحديث</h5>
                        
                        <div class="mt-3">
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-primary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="bi bi-plus text-white"></i>
                                </div>
                                <div>
                                    <p class="mb-0 small">عمر أحمد انضم إلى القائمة</p>
                                    <small class="text-muted">منذ ساعتين</small>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-center mb-3">
                                <div class="bg-secondary rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="bi bi-chat text-white"></i>
                                </div>
                                <div>
                                    <p class="mb-0 small">سارة محمد نشرت تغريدة جديدة</p>
                                    <small class="text-muted">منذ 5 ساعات</small>
                                </div>
                            </div>
                            
                            <div class="d-flex align-items-center">
                                <div class="bg-accent rounded-circle d-flex align-items-center justify-content-center me-3" style="width: 40px; height: 40px;">
                                    <i class="bi bi-person-plus text-white"></i>
                                </div>
                                <div>
                                    <p class="mb-0 small">3 أشخاص جدد يتابعون القائمة</p>
                                    <small class="text-muted">منذ يوم</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- زر إنشاء قائمة جديدة -->
    <button class="btn btn-primary create-list-btn" id="createListBtn">
        <i class="bi bi-plus-lg"></i>
    </button>

    <!-- نافذة الدردشة المصغرة -->
    <div class="mini-chat-window" id="miniChatWindow">
        <div class="chat-header">
            <h6 class="mb-0">محادثة المجموعة</h6>
            <button class="btn btn-close btn-close-white" id="closeChat"></button>
        </div>
        <div class="chat-messages">
            <div class="message">
                <p class="mb-0">مرحبًا بالجميع! كيف الحال؟</p>
                <small class="text-muted">عمر - منذ 2 دقيقة</small>
            </div>
            <div class="message self">
                <p class="mb-0">أهلاً وسهلاً! كل شيء على ما يرام</p>
                <small>أنت - منذ دقيقة</small>
            </div>
        </div>
        <div class="message-input">
            <input type="text" class="form-control me-2" placeholder="اكتب رسالة...">
            <button class="btn btn-primary"><i class="bi bi-send"></i></button>
        </div>
    </div>

    <!-- زر الدردشة الصوتية -->
    <button class="btn btn-primary voice-chat-btn" id="voiceChatBtn">
        <i class="bi bi-mic"></i>
    </button>

    <!-- لوحة الدردشة الصوتية -->
    <div class="voice-chat-panel" id="voiceChatPanel">
        <h6 class="fw-bold mb-3">الدردشة الصوتية</h6>
        
        <div class="voice-member">
            <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" class="voice-member-avatar" alt="عمر">
            <div class="flex-grow-1">
                <p class="mb-0 small">عمر أحمد</p>
                <small class="text-muted">يتحدث</small>
            </div>
            <div class="voice-indicator"></div>
        </div>
        
        <div class="voice-member">
            <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" class="voice-member-avatar" alt="سارة">
            <div class="flex-grow-1">
                <p class="mb-0 small">سارة محمد</p>
                <small class="text-muted">صامتة</small>
            </div>
        </div>
        
        <div class="d-grid gap-2 mt-3">
            <button class="btn btn-outline-danger btn-sm">
                <i class="bi bi-telephone-x"></i> إنهاء المكالمة
            </button>
        </div>
    </div>

    <!-- Bootstrap & jQuery JS -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        $(document).ready(function() {
            // تبديل الوضع المظلم/الفاتح
            const themeToggle = $('#themeToggle');
            const body = $('body');
            
            // التحقق من التفضيل المحفوظ
            if (localStorage.getItem('theme') === 'dark') {
                body.addClass('dark-mode');
                themeToggle.html('<i class="bi bi-sun-fill"></i>');
                themeToggle.attr('aria-label', 'تفعيل الوضع الفاتح');
            } else {
                themeToggle.attr('aria-label', 'تفعيل الوضع المظلم');
            }
            
            themeToggle.on('click', function() {
                body.toggleClass('dark-mode');
                if (body.hasClass('dark-mode')) {
                    localStorage.setItem('theme', 'dark');
                    themeToggle.html('<i class="bi bi-sun-fill"></i>');
                    themeToggle.attr('aria-label', 'تفعيل الوضع الفاتح');
                } else {
                    localStorage.setItem('theme', 'light');
                    themeToggle.html('<i class="bi bi-moon-fill"></i>');
                    themeToggle.attr('aria-label', 'تفعيل الوضع المظلم');
                }
            });
            
            // بيانات نموذجية للقوائم
            const lists = [
                {
                    id: 1,
                    name: "مطوري الويب العرب",
                    description: "مجموعة لمطوري الويب الناطقين بالعربية لمشاركة المعرفة والخبرات",
                    cover: "https://images.unsplash.com/photo-1461749280684-dccba630e2f6?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    icon: "bi-code-slash",
                    color: "#7c4dff",
                    members: 24,
                    followers: 156,
                    tweets: 342,
                    privacy: "public",
                    isFollowing: true,
                    isOwner: true,
                    lastActivity: "منذ ساعتين"
                },
                {
                    id: 2,
                    name: "مصممي UX/UI",
                    description: "مجتمع لمصممي تجربة المستخدم وواجهة المستخدم لتبادل الأفكار والتجارب",
                    cover: "https://images.unsplash.com/photo-1545235617-9465d2a55698?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    icon: "bi-palette",
                    color: "#ff6e6c",
                    members: 18,
                    followers: 89,
                    tweets: 215,
                    privacy: "public",
                    isFollowing: true,
                    isOwner: false,
                    lastActivity: "منذ 5 ساعات"
                },
                {
                    id: 3,
                    name: "مطوري Flutter",
                    description: "مجموعة مخصصة لمطوري تطبيقات Flutter لمناقشة أفضل الممارات والحلول",
                    cover: "https://images.unsplash.com/photo-1512941937669-90a1b58e7e9c?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    icon: "bi-phone",
                    color: "#2ce0c8",
                    members: 32,
                    followers: 203,
                    tweets: 478,
                    privacy: "public",
                    isFollowing: false,
                    isOwner: false,
                    lastActivity: "منذ يوم"
                },
                {
                    id: 4,
                    name: "متحدثو الإنجليزية",
                    description: "مجموعة لتحسين مهارات التحدث باللغة الإنجليزية من خلال المحادثات اليومية",
                    cover: "https://images.unsplash.com/photo-1546410531-bb4caa6b424d?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    icon: "bi-chat-dots",
                    color: "#9370ff",
                    members: 45,
                    followers: 287,
                    tweets: 632,
                    privacy: "public",
                    isFollowing: true,
                    isOwner: false,
                    lastActivity: "منذ يومين"
                },
                {
                    id: 5,
                    name: "مطوري Python",
                    description: "مجتمع لمحبي لغة البرمجة Python لتبادل المعرفة والخبرات",
                    cover: "https://images.unsplash.com/photo-1526318472351-c75fcf070305?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    icon: " bi-code-square",
                    color: "#ff8c8a",
                    members: 37,
                    followers: 174,
                    tweets: 421,
                    privacy: "private",
                    isFollowing: false,
                    isOwner: false,
                    lastActivity: "منذ 3 أيام"
                },
                {
                    id: 6,
                    name: "مجموعة القراءة",
                    description: "نناقش الكتب والأدب العربي والعالمي ونتبادل التوصيات",
                    cover: "https://images.unsplash.com/photo-1481627834876-b7833e8f5570?ixlib=rb-4.0.3&auto=format&fit=crop&w=600&q=80",
                    icon: "bi-book",
                    color: "#3af0da",
                    members: 29,
                    followers: 132,
                    tweets: 287,
                    privacy: "public",
                    isFollowing: true,
                    isOwner: false,
                    lastActivity: "منذ 4 أيام"
                }
            ];
            
            // عرض القوائم
            function renderLists(listsToRender) {
                const listsGrid = $('#listsGrid');
                
                if (listsToRender.length === 0) {
                    $('#emptyState').removeClass('d-none');
                    $('#loadMoreLists').addClass('d-none');
                    return;
                }
                
                $('#emptyState').addClass('d-none');
                $('#loadMoreLists').removeClass('d-none');
                
                listsToRender.forEach(list => {
                    const privacyIcon = list.privacy === 'public' ? 'bi-globe' : 'bi-lock';
                    const privacyText = list.privacy === 'public' ? 'عامة' : 'خاصة';
                    const followBtnText = list.isFollowing ? 'متابَع' : 'متابعة';
                    const followBtnClass = list.isFollowing ? 'btn-secondary' : 'btn-outline-primary';
                    
                    const listElement = `
                        <div class="col">
                            <div class="card list-card h-100" data-list-id="${list.id}">
                                <div class="list-cover">
                                    <img src="${list.cover}" alt="غطاء ${list.name}">
                                    <span class="list-privacy-badge badge bg-dark"><i class="bi ${privacyIcon}"></i> ${privacyText}</span>
                                </div>
                                <div class="card-body">
                                    <div class="d-flex align-items-start">
                                        <div class="list-icon-small" style="background-color: ${list.color};">
                                            <i class="bi ${list.icon} text-white"></i>
                                        </div>
                                        <div class="flex-grow-1 ms-3">
                                            <h5 class="card-title fw-bold">${list.name}</h5>
                                            <p class="card-text text-muted small">${list.description}</p>
                                        </div>
                                    </div>
                                    
                                    <div class="d-flex justify-content-between align-items-center mt-3">
                                        <div>
                                            <span class="fw-bold">${list.members}</span> <span class="text-muted">أعضاء</span>
                                            <span class="mx-2">•</span>
                                            <span class="fw-bold">${list.followers}</span> <span class="text-muted">متابعون</span>
                                        </div>
                                        <button class="btn btn-sm ${followBtnClass} follow-btn" data-list-id="${list.id}">${followBtnText}</button>
                                    </div>
                                    
                                    <div class="list-members-preview mt-3">
                                        <img src="https://images.unsplash.com/photo-1535713875002-d1d0cf377fde?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" class="member-avatar" alt="عضو">
                                        <img src="https://images.unsplash.com/photo-1494790108377-be9c29b29330?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" class="member-avatar" alt="عضو">
                                        <img src="https://images.unsplash.com/photo-1507003211169-0a1dd7228f2d?ixlib=rb-4.0.3&auto=format&fit=crop&w=100&q=80" class="member-avatar" alt="عضو">
                                        <div class="member-more">+${list.members - 3}</div>
                                    </div>
                                    
                                    <div class="mt-3">
                                        <small class="text-muted"><i class="bi bi-clock"></i> نشطة ${list.lastActivity}</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    listsGrid.append(listElement);
                });
            }
            
            // محاكاة تحميل القوائم
            function loadLists() {
                // تأثير التحميل
                $('#listsGrid').html(`
                    <div class="col">
                        <div class="card h-100">
                            <div class="skeleton" style="height: 120px; border-radius: var(--border-radius) var(--border-radius) 0 0;"></div>
                            <div class="card-body">
                                <div class="d-flex align-items-start">
                                    <div class="skeleton rounded-circle" style="width: 60px; height: 60px; margin-top: -30px;"></div>
                                    <div class="flex-grow-1 ms-3">
                                        <div class="skeleton" style="width: 70%; height: 20px;"></div>
                                        <div class="skeleton mt-2" style="width: 100%; height: 16px;"></div>
                                        <div class="skeleton mt-1" style="width: 90%; height: 16px;"></div>
                                    </div>
                                </div>
                                
                                <div class="d-flex justify-content-between align-items-center mt-3">
                                    <div>
                                        <div class="skeleton" style="width: 80px; height: 16px;"></div>
                                    </div>
                                    <div class="skeleton" style="width: 80px; height: 32px; border-radius: 20px;"></div>
                                </div>
                                
                                <div class="d-flex mt-3">
                                    <div class="skeleton rounded-circle" style="width: 30px; height: 30px;"></div>
                                    <div class="skeleton rounded-circle" style="width: 30px; height: 30px; margin-right: -10px;"></div>
                                    <div class="skeleton rounded-circle" style="width: 30px; height: 30px; margin-right: -10px;"></div>
                                    <div class="skeleton rounded-circle" style="width: 30px; height: 30px; margin-right: -10px;"></div>
                                </div>
                                
                                <div class="skeleton mt-3" style="width: 120px; height: 14px;"></div>
                            </div>
                        </div>
                    </div>
                `.repeat(6));
                
                // محاكاة وقت التحميل
                setTimeout(() => {
                    $('#listsGrid').empty();
                    renderLists(lists);
                }, 1500);
            }
            
            // محاكاة تحميل المزيد من القوائم
            $('#loadMoreLists').on('click', function() {
                const $this = $(this);
                $this.prop('disabled', true);
                $this.find('.load-text').addClass('d-none');
                $this.find('.spinner-border').removeClass('d-none');
                
                setTimeout(() => {
                    renderLists(lists);
                    $this.find('.load-text').removeClass('d-none');
                    $this.find('.spinner-border').addClass('d-none');
                    $this.prop('disabled', false);
                }, 1500);
            });
            
            // تفاعل المتابعة
            $(document).on('click', '.follow-btn', function(e) {
                e.stopPropagation();
                const $this = $(this);
                const listId = $this.data('list-id');
                
                if ($this.text() === 'متابعة') {
                    $this.removeClass('btn-outline-primary').addClass('btn-secondary').text('متابَع');
                    // هنا يمكن إضافة كود لتتبع القائمة
                } else {
                    $this.removeClass('btn-secondary').addClass('btn-outline-primary').text('متابعة');
                    // هنا يمكن إضافة كود لإلغاء متابعة القائمة
                }
            });
            
            // فتح لوحة إدارة القائمة
            $(document).on('click', '.list-card', function() {
                const listId = $(this).data('list-id');
                $('#manageListPanel').addClass('active');
            });
            
            // فتح لوحة إنشاء قائمة جديدة
            $('#createListBtn, #createFirstList').on('click', function() {
                $('#createListPanel').addClass('active');
            });
            
            // إغلاق اللوحات
            $('.close-panel, .btn-close').on('click', function() {
                $('.list-management-panel').removeClass('active');
            });
            
            // تفعيل خيارات الترتيب
            $('.sort-option').on('click', function(e) {
                e.preventDefault();
                $('.sort-option').removeClass('active');
                $(this).addClass('active');
                
                // إعادة تحميل القوائم حسب خيار الترتيب
                loadLists();
            });
            
            // تفعيل خيارات التصفية
            $('input[name="listFilter"]').on('change', function() {
                // إعادة تحميل القوائم حسب خيار التصفية
                loadLists();
            });
            
            // تفعيل خيارات الألوان
            $('.color-option').on('click', function() {
                $('.color-option').removeClass('selected');
                $(this).addClass('selected');
                const color = $(this).data('color');
                $('#listIconPreview').css('background-color', color);
            });
            
            // تفعيل خيارات الأيقونات
            $('.icon-option').on('click', function() {
                $('.icon-option').removeClass('selected');
                $(this).addClass('selected');
                const icon = $(this).data('icon');
                $('#listIconPreview').html(`<i class="bi ${icon}"></i>`);
            });
            
            // تحديث معاينة القائمة
            $('#listName').on('input', function() {
                $('#previewListName').text($(this).val() || 'اسم القائمة');
            });
            
            $('#listDescription').on('input', function() {
                $('#previewListDescription').text($(this).val() || 'وصف القائمة سيظهر هنا');
            });
            
            $('input[name="listPrivacy"]').on('change', function() {
                const privacy = $(this).val();
                $('#previewListPrivacy').text(privacy === 'public' ? 'قائمة عامة' : 'قائمة خاصة');
            });
            
            // إدارة الدردشة المصغرة
            $('#voiceChatBtn').on('click', function() {
                $('#voiceChatPanel').toggleClass('active');
                $(this).toggleClass('active');
            });
            
            // تحميل المحتوى الأولي
            loadLists();
            
            // إضافة تأثيرات عند التمرير
            $(window).on('scroll', function() {
                $('.fade-in').each(function() {
                    const position = $(this).offset().top;
                    const scrollPosition = $(window).scrollTop() + $(window).height();
                    
                    if (position < scrollPosition - 50) {
                        $(this).css('opacity', 1);
                    }
                });
            });
        });
    </script>
</body>
</html>